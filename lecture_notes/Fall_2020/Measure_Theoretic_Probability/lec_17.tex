\documentclass[class=article,crop=false]{standalone} 
\input{../preamble.tex}

\begin{document}
\section*{13. Measurable Functions}
Consider two measurable spaces $ (\Omega,\mathcal{F}), (\Omega',\mathcal{F}')$, where $ \mathcal{F}, \mathcal{F}'$ are $\sigma$-fields. Let $ T: \Omega \to \Omega'$ be a mapping.

\begin{defn}[measurable]
$ T$ is \allbold{measurable}  if  $ \ \forall \ A' \in \mathcal{F}'$,
\[
	T^{-1}(A')= \{\omega \in \Omega: T(\omega) \in A'\} \in \mathcal{F} 
.\] 
\end{defn}

We also say $ T$ is  $ F /F'$ measurable or measurable $ F / F'$.

\begin{eg}[]
	 A r.v. $ X $ is measurable  $ F / \mathcal{B}(\rr)$.
\end{eg}

\begin{thm}[13.1]
	$ (\Omega,\mathcal{F}), (\Omega',\mathcal{F}'), T: \Omega \to \Omega'$. 
	\begin{enumerate}[label=(\roman*)]
		\item If $ \mathcal{F}' = \sigma(\mathcal{A'})$ and if $ T^{-1}(A') \in \mathcal{F} \ \forall \ A' \in \mathcal{A}'$, then $ T$ is measurable  $ F / F'$.
		\item  Composition: If $ T$ is  $ F / F'$ measurable, and  $ T' : \Omega' \to \Omega''$ is measurable, given $(\Omega'',\mathcal{F}''), T'(T(x) $ is measurable $ \mathcal{F}' / F''$, then $ T' \circ T$ is measurable  $ F / F''$.
	\end{enumerate}
\end{thm}

\begin{remark}
	The theorem from r.v. comes directly from (i), where we have $ X^{-1}(-\infty,x]$ which is a closed interval. Instead of checking every inverse image of element in the generated $\sigma$-field is in $ \mathcal{F}$, we check if the inverse image of every element in the set that generated the $\sigma$-field is in $ \mathcal{F}$.
\end{remark}

\begin{notation}
	$ T^{-1}A = T^{-1}(A)$.
\end{notation}
\begin{prf}
\begin{enumerate}[label=(\roman*)]
	\item  Consider a class of sets $ \mathcal{G}'= \{A' \subseteq \Omega': T^{-1}(A') \in \mathcal{F}\} $. Clearly $ \mathcal{A}' \subseteq \mathcal{G}'$ by assumption. We claim that $ \mathcal{G}'$ is a $\sigma$-field on $ \Omega'$. Thus, $ \sigma(\mathcal{A}') = \mathcal{F}' \subseteq \mathcal{G}'$. Therefore, any sets $ A' \in \mathcal{F}'$ will map back (under $ T$) to  $ \mathcal{F}$.
	\item proof omitted.  
\end{enumerate}
\end{prf}

\begin{eg}[]
	Space: $ (\rr, \mathcal{B}(\rr), \mu)$ where $ \mu$ assigns finite measure to bounded sets in $ \rr$. Define a function $ F: \rr \to \rr$,
	\begin{equation*}
		F(x)=
	\begin{cases}
		\mu((0,x]) &\text{ if } x\geq 0\\
		-\mu((x,0])) & \text{ if } x<0\\ 
	\end{cases}
	\end{equation*}
\end{eg}

\begin{property}
~\begin{enumerate}[label=\arabic*)]
	\item $ F(x)< \infty \ \forall \ x \in \rr$.
	\item Non-decreasing, \emph{i.e.} $ x_1 \leq x_2 \implies F(x_1)\leq F(x_2)$.
		\begin{prf}
		\begin{case}[]
			$ 0\leq x_1 \leq x_2 \implies (0,x_1) \subseteq (0,x_2] \implies \mu((0,x])\leq \mu((0,x_2]) \implies F(x_1)\leq F(x_2)$.
		\end{case}
		\end{prf}
	\item We can write $ \mu((a,b])$ in terms of $ F$: $ \mu((a,b])=F(b)-F(a)$. 
		\begin{case}[]
		$ 0\leq a\leq b$. Then
		 \begin{align*}
			 \mu((a,b]) &= \mu((0,b] \setminus (0,a])\\
				    &= \mu((0,b]) - \mu((0,a])\\
				    &= F(b) - F(a) \\
		\end{align*}
		\end{case}
		\begin{case}[]
		$ a<0, b\geq 0$. Then
		 \begin{align*}
			 \mu((a,b])&= \mu((a,0]) + \mu((0,b])\\
				   &=-F(a)+F(b)
		\end{align*}
		\end{case}
	\item $ F$ is right-continuous. 
		\begin{prf}
			Suppose $ (x_n)$ is such that $ x_n \searrow x$. We want to show $ F(x_n) \searrow F(x)$.
			\begin{case}[]
				$ x\geq 0$, define  $ A_n=(0,x_n], A=(0,x]$. Then $ A_n \searrow A$. By continuity from above (need $ \mu(A_1) < \infty$) $ \implies \mu(A_n) \searrow \mu(A) \iff F(x_n) \searrow F(x)$.
			\end{case}
		\end{prf}
\end{enumerate}
\end{property}


\begin{thm}[12.4]
	If $ F$ is a non-decreasing, right-continuous, real-valued ($ \rr \to \rr$), then there exists a unique measure $ \mu$ on $ \mathcal{B}(\rr)$ such that $ \mu((a,b])= F(b) - F(a) \ \forall \ a \leq b$. 
\end{thm}

\begin{prf}
	Define a measure $ \mu$ on $ \mathcal{A}$ which is the collection of all intervals of the form $ (a,b]$ for  $ a<b$  such that $ \mu( \O) = 0$ and $ \mu((a,b]))= F(b)-F(a)$. Note that $ \mathcal{A}$ is a semiring and can generate the Borel sets. By Theorem 11.3, $ \mu$ extends to $ \sigma(\mathcal{A})= \mathcal{B}(\rr)$. Since $ F: \rr \to \rr$, we cannot get infinity for the measure and can cover $ \rr$ by these half closed intervals, so it is $ \sigma$-finite. By Theorem 10.3 (note $ \mu$ is $\sigma$-finite because intervals are finite and cover the reals), the extension is unique.
\end{prf}

\begin{note}[]
Borel sets on $ \rr$ can be generated by
\begin{enumerate}[label=\arabic*)]
	\item open intervals on $ \rr$ 
	\item closed intervals on $ \rr$.
	\item half open intervals.
	\item $ (-\infty,a]$ or $ (-\infty,a)$.
	\item open sets on $ \rr$.
\end{enumerate}
\end{note}

\begin{claim}[]
~\begin{enumerate}[label=\arabic*)]
	\item A continuous function $ f: \rr \to \rr$ is measurable.
		\begin{prf}
			We need to show that inverse image of a set in $ \mathcal{B}(\rr)$ is in $ \mathcal{B}(\rr)$. Take $ \mathcal{A}$ as all the open sets in $ \rr$. Then the inverse image of open sets is open since $ F$ is continuous. Thus by Theorem, 13.1, we are done.
		\end{prf}
	\item $ f_i: \Omega \to \rr$ for $ i=1,\ldots,k,$ each measurable $ F / \mathcal{B}(\rr)$ and $ g: \rr^{k} \to \rr$ measurable $ \mathcal{B}(\rr^{k}) / \mathcal{B}(\rr)$. Then $ g(f_1(\omega),\ldots,f_k(\omega))$ is measurable $ F / \mathcal{B}(\rr)$.
		\begin{prf}
			$  f_i$ measurable implies $ f(\omega) \coloneqq (f_1(\omega),\ldots,f_k(\omega)$ is measurable. Then the result follows from composition of functions.
		\end{prf}
	\item Suppose $ f: \Omega \to  [-\infty,\infty]$ (extended reals) is measurable if $ A \in \mathcal{B}(\rr) \implies f^{-1}(A) \in \mathcal{F}$ and $ \{\omega: f(\omega)=\infty\} $ and $ \{\omega: f(\omega) = -\infty\} $ are in $ \mathcal{F}$.
\end{enumerate}
\end{claim}

\begin{thm}[13.4]
	$ (\Omega,\mathcal{F})$. Consider a sequence of measurable functions, $ f_1,f_2,\ldots$ from $ \Omega \to \rr$. Then, the following are true:
	\begin{enumerate}[label=(\roman*)]
		\item $ \sup_n f_n, \inf_n f_n, \limsup_{  n} f_n, \liminf_{  n} f_n $ are measurable.
		\item $ \lim_{ n \to \infty} f_n$ if it exists everywhere is measurable.
		\item $ \{\omega: f_n(\omega) \text{ converges} \} \in \mathcal{F}$
	\end{enumerate}
\end{thm}

\begin{thm}[]
	$ (\Omega,\mathcal{F})$, $ f,g : \Omega \to \rr$ measurable. Then
	\begin{enumerate}[label=(\roman*)]
		\item $ \{\omega: f(\omega) > g(\omega)\} \in \mathcal{F} $.
		\item $ \{\omega: f(\omega) = g(\omega)\} \in \mathcal{F}$.
	\end{enumerate}
\end{thm}
\begin{prf}
~\begin{enumerate}[label=(\roman*)]
	\item Note that for any real $ a>b$, there exists a  $ r \in \qq$ such that $ a>r>b$. Hence
		 \[
			 \{\omega: f(\omega)> g(\omega)\} = \bigcup_{ r \in \qq} \left[ \{\omega: f(\omega )> r\} \cap \{\omega: g(\omega)<r\}  \right]   
		.\]
		The first set is the complement in $ \mathcal{F}$ since  $ f$ is measurable, The second is also in $ \mathcal{F}$ since  $ g$ is measurable, Their unions and intersections are in  $ \mathcal{F}$.
	\item 
		\[
			\{\omega: f(\omega)=g(\omega)\} = \left(\{\omega: f(\omega)> g(\omega)\} \cup  \{\omega: f(\omega)<g(\omega)\} \right)^{c} \in \mathcal{F}  
		.\] 
\end{enumerate}
\end{prf}
\end{document}
